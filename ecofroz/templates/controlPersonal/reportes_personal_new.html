{% extends 'base.html' %}
{% load bootstrap %}
{% load widget_tweaks %}



{% block extrahead %}
<!DOCTYPE html>
<style>

<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

table {
  border-collapse: collapse;
  width: 100%;  
}

th, td {
  text-align: left;
  padding: 8px;
}




ul.opciones {
  list-style-type:none;
}

input[type=text] {
  border: none;
  border-bottom: 1px solid #34bdeb ;
  background-color: none;
  outline: none;
  box-shadow: none !important;
  /* border: none; */
  border-bottom-color: 1px solid #34bdeb  ;
}

input[type=number] {
  border: none;
  border-bottom: 1px solid #34bdeb ;
  background-color: none;
  outline: none;
  box-shadow: none !important;
  /* border: none; */
  border-bottom-color: 1px solid #34bdeb  ;
  width: 80px;
}

.button {
background-color: #4CAF50;
border: none;
color: white;
padding: 4px 20px; */
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 16px;
margin: 4px 2px;
cursor: pointer;
border-radius: 4px;
}



.select-box {
    -webkit-appearance: button;
    -moz-appearance: button;
    -webkit-user-select: none;
    -moz-user-select: none;
    -webkit-padding-end: 20px;
    -moz-padding-end: 20px;
    -webkit-padding-start: 2px;
    -moz-padding-start: 2px;
    background-color: #faf9f7; /* Fallback color if gradients are not supported */
    
    background-position: center right;
    background-repeat: no-repeat;
    border: 1px solid #AAA;
    outline: 0px;
    border-radius: 2px;
    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.1);
    color:#262625;
    font-size: inherit;
    margin: 0;
    overflow: hidden;
    padding-top: 2px;
    padding-bottom: 2px;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#tabla-reporte{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

#tabla-reporte td, #tabla-reporte th {
  border: 1px solid #ddd;
  padding: 8px;
}

#tabla-reporte tr:hover {background-color: #ddd;}
#tabla-reporte tr:hover {background-color: #ddd;}

#tabla-reporte th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #4CAF50;
  color: white;
}

#salto-linea-ancho{
  margin-top: 20px;
  width: 150px;
}


</style>

{% endblock %}


{% block content %}
<div class="loader"></div>
  <div class=row>
    <div class=col>
 
    </div>
  </div>
        <form method="GET" id="form" >
            {% csrf_token %}
            <div class="row"> 
              <!-- <div class="container-fluid" style="text-align:center">
                <button type="button" class="btn btn-secondary" data-toggle="collapse" data-target="#demo">Haga clic para ver las opciones de reportes disponibles</button>
             </div> -->
             
             <!-- {% if form4 %}
             {{ form4.as_p }}
             {% endif %} -->

             <div class="container">
              <div class="row">
                <div class="col-10">
                  <h5>Consultas en <u>línea</u></h5>
                  <div class="col-34">
                    <ul class="opciones">
                  <p></p> 
                  <p><a href="{% url 'proveedores:resp_encuesta_comp' %}">Consulte los colaborares en todas las ubicaciones</a></p>
                  <p><a href="{% url 'proveedores:ver_preguntas_especificas' %}">Consulte los vehículos en todas las ubicaciones </a></p>
                  <p><a href="{% url 'proveedores:ver_preguntas_especificas' %}">Consulte la lista de colaboradores con restricciones de ingreso </a></p></ul>
             
                </div>
              
          </div>
                  
                  <form method="GET" id="form2" action="{% url 'proveedores:to_excelcat' %}" >
                      {% csrf_token %}
                    
                    
                      <div class="col-12">
                      <div class="container" id="salto-linea-ancho"></div>
                      <div class="container">
                      <h5>Descarga de <u>archivos Excel</u></h5>
                      
                        <ul class="opciones">
                        <!-- <li><input type="radio" id="xcategoria2" name="seleccion" >
                    <label for="xcategoria2">Todas las respuestas de los proveedores en la <u>Categoria:</u>&nbsp;</label>
                    {% render_field form5.categoria  id="categoria2"  class="select-box" onChange="form.submit();" %}</li> -->
                    <li><input type="radio" id="xsegmento2" name="seleccion" >
                    <label for="xsegmento2">Reporte de <u>asistencia de personal entre 2 fechas</u>&nbsp;</label>
                    {% render_field form5.segmento name="segmento2"  class="select-box" onChange="form.submit();" %}</li></ul>
                    
                    </div>
                    </div>  
                
                    
                    </form>

                  </div>
                </div>
              </div> 

           
            
            
            <p></p>              
        
      
      </div>

              
                   
            

              

            </div>

              
              {% endblock content %}
              
{% block extrajs %}
<script>
 

// Lineas para mostrar todos los campos ocultos

//   jQuery(document).ready(function($){
//     $(document).on( 'frmFormComplete', function( event, form, response ) {
// var formID = $(form).find('input[name="id_nombre_empresa"]').val();
// });
  
$("#id_giro").hide().val("");
$("#id_busca_giro").hide().val("");
$("#id_nombre_empresa").hide().val("");
$("#id_categoria_proveedor").hide().val("");
$("#calificacionminima").hide().val("");
$("#calificacionmaxima").hide().val("");
$("#busca_calificacion").hide().val("");
$("#label-categoria").hide().val("");
$("#categoria2").hide().val("");
$("#nombre_empresa").hide().val("");
$("#busca_calificacion").hide().val("");
$("#label-proveedor1").hide().val("");
$("#label-proveedor2").hide().val("");
$("#categoria2").hide().val("");
$("#segmento2").hide().val("");
// $("#proveedor1").hide().val("");
// $("#proveedor2").hide().val("");


    
  $("#xgiro").on('click', xGiro)
  $("#xproveedor").on('click', xProveedor)
  $("#xcategoria").on('click', xCategoria)
  $("#xcomparativa").on('click', xComparativa)
  $("#xcalificacion").on('click', xCalificacion)
  $("#xcategoria2").on('click', MuestraOpcionCat)
  $("#xsegmento2").on('click', MuestraOpcionSeg)
 
  
//Funciones que ocultan listas de seleccion y campos
function MuestraOpcionCat() {
  $("#categoria2").show();
  $("#segmento2").hide().val("");
  $("#id_busca_activos").hide().val("");
  $("#id_nombre_empresa").hide().val("");
  $("#id_categoria_proveedor").hide().val("");
  $("#calificacionminima").hide().val("");
  $("#calificacionmaxima").hide().val("");
  $("#busca_calificacion").hide().val("");
  $("#segmento2").hide().val(""); 
 
} 

function MuestraOpcionSeg() {
  $("#segmento2").show();
  $("#categoria2").hide().val("");
  $("#id_busca_activos").hide().val("");
  $("#id_nombre_empresa").hide().val("");
  $("#id_categoria_proveedor").hide().val("");
  $("#calificacionminima").hide().val("");
  $("#calificacionmaxima").hide().val("");
  $("#busca_calificacion").hide().val("");
  
  $("#categoria2").hide().val("");
} 



function xGiro() {
  $("#id_giro").show();
  $("#id_busca_giro").show();
  $("#id_busca_activos").hide().val("");
  $("#id_nombre_empresa").hide().val("");
  $("#id_categoria_proveedor").hide().val("");
  $("#calificacionminima").hide().val("");
  $("#calificacionmaxima").hide().val("");
  $("#busca_calificacion").hide().val("");
  $("#segmento2").hide().val(""); 
  $("#categoria2").hide().val("");
 
}

function xProveedor() {
  $("#id_giro").hide().val("");
  $("#id_busca_giro").hide().val("");
  $("#id_busca_activos").hide().val("");
  $("#id_nombre_empresa").show();
  $("#id_categoria_proveedor").hide().val("");
  $("#calificacionminima").hide().val("");
  $("#calificacionmaxima").hide().val("");
  $("#busca_calificacion").hide().val("");
  $("#segmento2").hide().val(""); 
  $("#categoria2").hide().val("");
 
}

function xCategoria() {
  $("#id_giro").hide().val("");
  $("#id_busca_giro").hide().val("");
  $("#id_busca_activos").hide().val("");
  $("#id_nombre_empresa").hide().val("");
  $("#id_categoria_proveedor").show();
  $("#calificacionminima").hide().val("");
  $("#calificacionmaxima").hide().val("");
  $("#busca_calificacion").hide().val("");
  $("#segmento2").hide().val(""); 
  $("#categoria2").hide().val("");
 
}

function xComparativa() {
  $("#id_giro").hide().val("");
  $("#id_busca_giro").hide().val("");
  $("#id_busca_activos").hide().val("");
  $("#id_nombre_empresa").hide().val("");
  $("#calificacionminima").hide().val("");
  $("#calificacionmaxima").hide().val("");
  $("#busca_calificacion").hide().val("");
  $("#nuevacategoria").show();
  $("#categoria3").show();
  $("#label-proveedor1").show();
  $("#label-proveedor2").show();
  $("#proveedor1").show();
  $("#proveedor2").show();
  $("#segmento2").hide().val(""); 
  $("#categoria2").hide().val("");

}

function xCalificacion() {
  $("#id_giro").hide().val("");
  $("#id_busca_giro").hide().val("");
  $("#id_busca_activos").hide().val("");
  $("#id_nombre_empresa").hide().val("");
  $("#id_categoria_proveedor").hide().val("");
  $("#calificacionminima").show();
  $("#calificacionmaxima").show();
  $("#busca_calificacion").show();
  $("#segmento2").hide().val(""); 
  $("#categoria2").hide().val("");
 
}

jQuery(document).ready(function($){
                  $('*[data-href]').on('click', function(){
                    window.location = $(this).data("href");
                  });
                });
                
              </script>
              
              <script>
                function ordenarSelect(id_componente)
                  {
                    var selectToSort = jQuery('#' + id_componente);
                    var optionActual = selectToSort.val();
                    selectToSort.html(selectToSort.children('option').sort(function (a, b) {
                      return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
                    })).val(optionActual);
                  }
                  $(document).ready(function () {
                    ordenarSelect('id_categoria_proveedor');
                    
                    
                  });


                  $(window).on("load", function() {
        $(".loader").fadeOut("slow");
    });

    $(document).ready(function() {    
        $('#enviar').on('click', function(){
            //Añadimos la imagen de carga en el contenedor
            $(".loader").show();
            $(window).on("load", function(){
                $(".loader").fadeOut("slow");
            });
        });              
    }); 

   
              </script>
              

              {% endblock %}