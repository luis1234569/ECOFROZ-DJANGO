{% extends 'base.html' %}

{% block extrahead %}
<style type="text/css"> 
    thead th  { 
      position: sticky;
      top: 0;
      z-index: 10;
      background-color: #ffffff;
      border: blue 2px solid;
      
  }

  tr td  { 
      
      border: rgb(209, 209, 226) 1px solid;
      
  }

  .table { 
      height:200px;
      overflow:scroll;
      font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 100%;
  }

  
  th, td {
    word-wrap: break-word;
    text-align: left;
   padding: 8px;
}
</style>

{% endblock %}

{% block content %}
<div class="container" style="margin: 25px auto;">
  <div class="row">
    
      <form class="form-inline my-2 my-lg-0" method="GET" action="{% url 'personal:reporte_contenedor' %}">
        <div class="form-group col-auto">
          <label style="margin-right: 10px;">DESDE:</label>
          <input type="date" class="form-control" name="inicio" value="{{ inicio }}" required>
        </div>
        <div class="form-group col-auto">
          <label style="margin-right: 10px;">HASTA:</label>
          <input type="date" class="form-control" name="fin" value="{{ fin }}" required>
        </div>
        <div class="form-group col-auto">
        <div class="col-auto">
          <button class="btn btn-secondary my-2 my-sm-0" type="submit">Buscar</button>
          <a class="btn btn-warning my-2 my-sm-0"  href="{% url 'personal:reporte_contenedor' %}">Limpiar</a>
        </div>
        </form>
      
        <div class="col">
        <a class="btn btn-success" style="align-items: right;" href="{% url 'personal:export_excel_conte' inicio fin %}">Exportar Excel</a>
      </div>
      
      </form>
    </div>
  </div>
  </div>

<table class="table table-striped table-sm" style="margin: 25px auto; width: 100%;">
  <thead class="thead-dark">
    <tr>
      <th>N°</th>
      <th style="text-align: center;">Chofer</th>
      <th style="text-align: center;">Placa</th>
      <th style="text-align: center;">Contenedor Ingreso</th>
      <th style="text-align: center;">Nombre Chofer</th>
      <th style="text-align: center;">Transportista</th>
      <th style="text-align: center;">Fecha y Hora Ingreso</th>
      <!-- <th>Hora Ingreso</th> -->
      <th style="text-align: center;">Sello 1</th>
      <th style="text-align: center;">Sello 2</th>
      <th style="text-align: center;">Contenedor Salida</th>
      <th style="text-align: center;">Sale Solo cabezal</th>
      <th style="text-align: center;">Fecha y Hora Salida</th>
      <!-- <th>Hora Salida</th> -->
    </tr>
</thead>
<tbody style="text-align: center;">
    {% for i in reg %}
    <tr>
      <td>{{ forloop.revcounter }}</td>
      <td>{{ i.chofer.cedula }}</td>
      <td>{{ i.placa }}</td>
      <td>{{ i.num_contenedor_ingreso }}</td>
      <td>{{ i.chofer.nombres }}</td>
      <td>{{ i.chofer.transportista.transportista | slice:":20" }}</td>
      <td>{{ i.fch_ingreso | date:'d/m/Y' | default:"--" }}&nbsp;{{ i.hr_ingreso_txt }}</td>
      <!-- <td>{{ i.hr_ingreso_txt }}</td> -->
      <td>{{ i.sello_1 }}</td>
      <td>{{ i.sello_2 }}</td>
      <td>{{ i.num_contenedor_salida |default:"--"}}</td>
      {% if i.solo_cabezal == True %}
                <td style="text-align: center;">
                    <a href="#" class="glyphicon glyphicon-ok" title="Sí"></a>
                </td>
                {% else %}
                <td style="text-align: center;">
                    <a href="#">--</a>
                </td>
                {% endif %}
      <td>{{ i.fch_salida |date:'d/m/Y' | default:"-" }}&nbsp;{{ i.hr_salida_txt |default:"-"}}</td>
      <!-- <td>{{ i.hr_salida_txt }}</td> -->
    </tr>
    {% endfor %}
</tbody>
</table>


</table>


<div class="pagination">
  <span class="step-links">
      {% if reg.has_previous %}
          <a href="?inicio={{ inicio }}&fin={{ fin }}&page=1">&laquo; inicio</a>
          <a href="?inicio={{ inicio }}&fin={{ fin }}&page={{ reg.previous_page_number }}">previo</a>
      {% endif %}

      <span class="current">
          Page {{ reg.number }} of {{ reg.paginator.num_pages }}.
      </span>

      {% if reg.has_next %}
          <a href="?inicio={{ inicio }}&fin={{ fin }}&page={{ reg.next_page_number }}">próximo</a>
          <a href="?inicio={{ inicio }}&fin={{ fin }}&page={{ reg.paginator.num_pages }}">último &raquo;</a>
      {% endif %}
  </span>
</div>


{% endblock %}

{% block extrajs %}

{% endblock %}