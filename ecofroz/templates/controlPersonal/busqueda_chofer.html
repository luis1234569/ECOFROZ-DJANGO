{% extends 'base.html' %}
{% load bootstrap %}



{% block content %}


<div class="container-fluid">
  <div class="row" style="margin-top: 25px;">
    <div class="col-md 18 search">
      <form class="form-inline my-2 my-lg-0" method="GET">
          <input class="form-control mr-sm-2" type="text" size="55;" placeholder="Cédula o Apellido..." name="buscar">
        <button class="btn btn-secondary my-2 my-sm-0" type="submit">Buscar</button>
      </form>
    </div>
    <div class="col-md-6">
      <a class="btn btn-success rounded-circle" style="float: right;" href="{% url 'personal:registro_chofer' %}">+</a>
    </div>
    </div>
  

<br>

<table class="table table-hover table-dark table-sm container-fluid" style="table-layout:unset;">  
  <thead>
    <tr>
        <td scope="col"><strong>No</strong></td>
        <td scope="col"><strong>Cédula</strong></td>
        <td scope="col"><strong>Nombres</strong></td>
        <td scope="col"><strong>Celular</strong></td>
        <td scope="col"><strong>Placa</strong></td>
        <td scope="col"><strong>Transportista</strong></td>
        <td scope="col"><strong>Observaciones</strong></td>
        <td scope="col"><strong>Opciones</strong></td>
    </tr>
  </thead>
<tbody>
  {% if form %}
  {% for chofer in form  %} 
  
       <td>{{ forloop.counter }}</td>
      <td>{{ chofer.cedula }}</td>
      <td>{{ chofer.nombres }}</td>
      <td>{{ chofer.telefono | default:"--"}}</td>
      <td>{{ chofer.placa | default:"--" }}</td>
      <td>{{ chofer.transportista| default:"--" }}</td>
      <td>{{ chofer.observaciones | default:"--" }}</td>
      <td>
        <a class="btn btn-info glyphicon glyphicon-pencil" href="{% url 'personal:edita_chofer' chofer.cedula %}" title="Editar"></a>
        <a class="btn btn-warning glyphicon glyphicon-thumbs-down" href="{% url 'personal:estado_chofer' chofer.cedula %}" id="desactiva" title="Inactivar"></a>
      </td> 
    </tr>
    
{% endfor %}

{% else %}
<h1>No hay registros</h1>

{% endif %}
</tbody>

</table>

<!-- <div class="pagination">
  <span class="step-links">
      {% if form.has_previous %}
          <a href="?activo_tipo={{ tipo }}&activo_ubica={{ ubicacion }}&activo_grupo={{ grupo }}&activo_depar={{ departamento }}&activo_area={{ area }}&page=1">&laquo; inicio</a>
          <a href="?activo_tipo={{ tipo }}&activo_ubica={{ ubicacion }}&activo_grupo={{ grupo }}&activo_depar={{ departamento }}&activo_area={{ area }}&page={{ form.previous_page_number }}">previo</a>
      {% endif %}

      <span class="current">
          Page {{ form.number }} of {{ form.paginator.num_pages }}.
      </span>

      {% if form.has_next %}
          <a href="?activo_tipo={{ tipo }}&activo_ubica={{ ubicacion }}&activo_grupo={{ grupo }}&activo_depar={{ departamento }}&activo_area={{ area }}&page={{ form.next_page_number }}">próximo</a>
          <a href="?activo_tipo={{ tipo }}&activo_ubica={{ ubicacion }}&activo_grupo={{ grupo }}&activo_depar={{ departamento }}&activo_area={{ area }}&page={{ form.paginator.num_pages }}">último &raquo;</a>
      {% endif %}
  </span>
</div> -->
</div>

{% endblock content %}

{% block extrajs %}
<script>
  jQuery(document).ready(function($){
    $('*[data-href]').on('click', function(){
      window.location = $(this).data("href");
    });

    $("#desactiva").on("click", function () {
      alert('Se Inactivo el Chofer Correctamente.')
    })
  });
  // $("#container").on('click-row.bs.table', function(e, row, $element){
  //   window.location = $(this).data('url');
  // });
</script>
{% endblock %}