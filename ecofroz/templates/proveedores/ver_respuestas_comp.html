{% extends 'base.html' %}
{% load bootstrap %}
{% load widget_tweaks %}



{% block extrahead %}
<!DOCTYPE html>
<style>

<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

table {
  border-collapse: collapse;
  width: 100%;  
}

th, td {
  text-align: left;
  padding: 8px;
}




ul.opciones {
  list-style-type:none;
}

input[type=text] {
  border: none;
  border-bottom: 1px solid #34bdeb ;
  background-color: none;
  outline: none;
  box-shadow: none !important;
  /* border: none; */
  border-bottom-color: 1px solid #34bdeb  ;
}

input[type=number] {
  border: none;
  border-bottom: 1px solid #34bdeb ;
  background-color: none;
  outline: none;
  box-shadow: none !important;
  /* border: none; */
  border-bottom-color: 1px solid #34bdeb  ;
}

.button {
background-color: #4CAF50;
border: none;
color: white;
padding: 4px 20px; */
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 16px;
margin: 4px 2px;
cursor: pointer;
border-radius: 4px;
}



.select-box {
     font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
    -webkit-appearance: button;
    -moz-appearance: button;
    -webkit-user-select: none;
    -moz-user-select: none;
    -webkit-padding-end: 20px;
    -moz-padding-end: 20px;
    -webkit-padding-start: 2px;
    -moz-padding-start: 2px;
    background-color: #faf9f7; /* Fallback color if gradients are not supported */
    background-image: url(../images/select-arrow.png), -webkit-linear-gradient(top, #E5E5E5, #F4F4F4); /* For Chrome and Safari */
    background-image: url(../images/select-arrow.png), -moz-linear-gradient(top, #E5E5E5, #F4F4F4); /* For old Firefox (3.6 to 15) */
    background-image: url(../images/select-arrow.png), -ms-linear-gradient(top, #E5E5E5, #F4F4F4); /* For pre-releases of Internet Explorer  10*/
    background-image: url(../images/select-arrow.png), -o-linear-gradient(top, #E5E5E5, #F4F4F4); /* For old Opera (11.1 to 12.0) */
    background-image: url(../images/select-arrow.png), linear-gradient(to bottom, #E5E5E5, #F4F4F4); /* Standard syntax; must be last */
    background-position: center right;
    background-repeat: no-repeat;
    border: 1px solid #AAA;
    outline: 0px;
    border-radius: 2px;
    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.1);
    color:#262625;
    font-size: inherit;
    margin: 0;
    overflow: hidden;
    padding-top: 2px;
    padding-bottom: 2px;
    text-overflow: ellipsis;
    white-space: nowrap;
}

#tabla-reporte{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

#tabla-reporte td, #tabla-reporte th {
  border: 1px solid #ddd;
  padding: 8px;
}

#tabla-reporte tr:hover {background-color: #ddd;}
#tabla-reporte tr:hover {background-color: #ddd;}

#tabla-reporte th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #4CAF50;
  color: white;
}


#categoria-label{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  margin-left:25px;
  
  /* border-collapse: collapse;
  width: 100%; */
}

#contenedor{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  margin-top:25px;
}

#filas{
  padding:8px;
}

#categoria3{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  margin-left:35px;
}

#proveedor1{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  margin-left:35px;
}

#proveedor2{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  margin-left:23px;
}

#list-segmento{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  margin-left:23px;
}

</style>

{% endblock %}


{% block content %}
 <div class="loader"></div>
<div class="container-fluid" id="contenedor">  
<div class=row>
    <div class="col-12">
        <form method="GET" id="form" >
            {% csrf_token %}
            <div class=row id="filas" >
            <label for="{{ form4.categoria_proveedor.label }}" id="categoria-label">Seleccione la Categoría</label>
            {% render_field form4.categoria id="categoria3"  name="categoria3" value="{{categoriacomp}}"  class="select-box"  %} 
            </div>
            <div class=row id="filas">
            <label for="{{ form4.proveedor1.label }}" id="categoria-label">Escoja el Primer Proveedor</label>
            {% render_field form4.proveedor1 id="proveedor1" name="proveedor1" value="{{ proveedor1 }}" class="select-box"  %}
            </div>
            <div class=row id="filas">
              <label for="{{ form4.proveedor2.label }}" id="categoria-label">Escoja el Segundo Proveedor</label>
            {% render_field form4.proveedor2 id="proveedor2" name="proveedor2" value="{{proveedor1}}" class="select-box"  %}
          </div>
           
            <div class=row id="filas">
              <label for="{{ form5.segmento.label }}" id="categoria-label"> {{ form5.segmento.label }}</label> 
             {% render_field form5.segmento id="list-segmento" name="list-segmento" class="select-box"  %}
             <!-- <select class="select-box" name="list-segmento" id="list-segmento" onChange="form.submit();">
              <option value="">-----</option>
              <option value=6>Buenas Prácticas de Calidad</option>
              <option value=7>Buenas Prácticas de Seguridad</option>
              <option value=8>Buenas Prácticas Ambientales</option>
              <option value=9>Buenas Prácticas Laborales</option>
              <option value=10>Buenas Prácticas con Proveedores y Clientes</option>
              <option value=11>Retroalimentación Ecofroz</option>
              <option value=12>Calificación Interna Ecofroz</option>
              <option value=13>Buenas Prácticas de Responsabilidad Social</option>
            
            </select> -->
          </div>
            
    </div>



             
            </form>    
      
        
      </div>
    

              {% if form4 %}
               
                    <div class="container-fluid" style="margin-top: 10px;">
                  <table class="table table-hover table-striped table-dark table-sm container-fluid" style="width:99%;">      
                  <thead> 
                   
                    <tr>
                    <td scope="col"><strong>No</strong></td>
                    <td scope="col"><strong>Pregunta</strong></td>
                    <td scope="col"><strong>{{nombre1}}</strong></td>
                    <td scope="col"><strong>Total:{{suma_prove1}}</strong></td></td>
                    <!-- <td scope="col"><strong>Pregunta</strong></td>  -->
                    <td></td>
                    <td scope="col"><strong>{{nombre2}}</strong></td>
                    <td scope="col"><strong>Total:{{suma_prove2}}</strong></td></td>
                    <td></td>
                    
                  </tr>
                    
                  </thead>      
          
            
            <tbody>
              {% if form %}
              {% for proveedor in form  %} 
                  <tr>
                  <td>{{ forloop.counter }}</td>
                  <td>{{ proveedor.pregunta }}</td>
                  <td>{{ proveedor.proveedor1 | default:"--" }}</td>
                  <td>{{ proveedor.calificacion1 | default:"--" }}</td></td>
                 <!-- <td>{{ proveedor.pregunta2 }}</td> -->
                 <td></td> 
                 <td >{{ proveedor.proveedor2| default:"--" }}</td>
                  <td>{{ proveedor.calificacion2 | default:"--" }}</td></td>
                </tr>
              {% endfor %}
            
            {% else %}
            <h1>No hay registros</h1>
            
            {% endif %}
            </tbody>
              
              </table>
            </div>

            {% endif %}
              
              {% endblock content %}
              
{% block extrajs %}
<script>

              $(window).on("load", function() {
        $(".loader").fadeOut("slow");
    });

    $(document).ready(function() {    
        $('#enviar').on('click', function(){
            //Añadimos la imagen de carga en el contenedor
            $(".loader").show();
            $(window).on("load", function(){
                $(".loader").fadeOut("slow");
            });
        });              
    }); 

   
              </script>
              

              {% endblock %}