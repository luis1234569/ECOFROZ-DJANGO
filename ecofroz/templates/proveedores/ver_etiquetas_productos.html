
{% extends 'base.html' %}
{% load bootstrap %}
{% load widget_tweaks %}

{% block extrahead %}

<style>
  body {
        background-color:cadetblue
      }

  th, td {
  text-align: left;
  padding: 8px;
}
</style>

{% endblock %}

{% block content %}



{% for nombre in proveedor %}  
<div class="container-fluid" style="width: 95%; margin-top: 25px;">
<div class="row">
  <div class=".col-12">
    <div class="row">
    <h5 style="margin-left: 100px;">Etiquetas de productos de {{ nombre.codigo_id.nombre_empresa }}{{ nombre.codigo_id.id }}</h5>
    </div>
    <div class="row"><p></div>
    <div class="row">
    <a style="margin-left: 100px;" class="btn btn-outline-success" title="Volver a Documentos del Proveedor" href="{% url 'proveedores:ver_documentos' nombre.codigo_id.id %}"><b>Volver a Documentos del Proveedor</b></a>
    </div>  
  </div>
</div>
    
    
  {% endfor %}
  
  

<div class="container p-3 my-3 bg-dark text-white" style="width: 89%; margin-top: 25px;">
  
  <br>
    
  <div class="well text-muted text-center" style="padding-top: 2rem; padding-bottom: 2rem;">
    <span class="glyphicon glyphicon-arrow-down" style="font-size: 2rem;"></span>
    <h3>Arrastre Las Etiquetas de Productos aqu√≠</h3>
  </div>
</div>
    
    <div class="modal fade" id="modal-progress" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Uploading...</h4>
          </div>
          <div class="modal-body">
            <div class="progress">
              <div class="progress-bar" role="progressbar" style="width: 0%;">0%</div>
            </div>
          </div>
        </div>
      </div>
    </div>


    
    {# 2. FILE INPUT TO BE USED BY THE PLUG-IN #}
    {% for empresa in proveedor %}
    <input id="fileupload" type="file" name="archivos" multiple
           style="display: none;"
           data-url="{% url 'proveedores:ver_etiquetas_productos' empresa.codigo_id.id %}"
           data-form-data='{"csrfmiddlewaretoken": "{{ csrf_token }}"}'>
    {% endfor %}

    {# 3. TABLE TO DISPLAY THE UPLOADED DOCS #}
    <div class="container"  style="width: 95%; margin-top: 25px;">
    <table id="gallery" class="table table-bordered">
      <thead>
        <tr>
          <th style="width: 5%;">No</th>
          <th>Etiquetas Cargadas</th>
          <th>Opciones</th>
        </tr>
      </thead>
      <tbody>
        {% for documento in documentos_list %}
          <tr>
            <td style="width: 5%;"><strong>{{ forloop.counter }}</strong></td>
            <!-- <td><a href="{{ documento.archivos.url }}">{{ documento.archivos.name }}</a></td> -->
            {% if documento.nombre_corto %} 
            <td><a href="{{ documento.archivos.url }}">{{ documento.nombre_corto }}</a></td>
            {% else %}
            <td><a href="{{ documento.archivos.url }}">{{ documento.archivos.name }}</a></td> 
            {% endif %}
            <td><a class="btn btn-danger glyphicon glyphicon-trash" title="Eliminar" href="{% url 'proveedores:eliminar_documentos' documento.id documento.proveedor.id %}"></a></td> 
          
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <p>
      

  {# 4. TABLA PARA MOSTRAR HOJAS PENDIENTES DE ENTREGA (SI LAS HAY) #}
  <p><strong>Hojas MSDS Pendientes de Entrega</strong></p>
  <table id="gallery" class="table table-bordered">
    <thead>
      {% for etiqueta in etiquetas_productos_pendientes %}
        <tr>
          <td style="width: 5%;"><strong>{{ forloop.counter }}</strong></td>
            <td>{{ etiqueta.nombre_etiqueta_producto }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>


  
  </div>
    
    


{% endblock content %}


{% block extrajs %}
{% load static %}

<script src="{% static 'js/jquery-3.1.1.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>

<script src="{% static 'js/jquery-file-upload/js/vendor/jquery.ui.widget.js' %}"></script>
<script src="{% static 'js/jquery-file-upload/js/jquery.iframe-transport.js' %}"></script>
<script src="{% static 'js/jquery-file-upload/js/jquery.fileupload.js' %}"></script>

<script src="{% static 'js/basic-upload.js' %}"></script>



{% endblock %}